<div class="container">
    <div class="row">
        <a ui-sref="analyse" ui-sref-opts="{reload:true}"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span> Back </a>
        <h2>{{vm.title}}</h2>

        <div class="col-xs-12">
            <table class="table">
                <tbody>
                <tr>
                    <td>id</td>
                    <td ng-if="vm.data.status != 'ERROR'">
                        <a
                           ng-class="{'btn disabled' : vm.data.status != 'END' && vm.data.status != 'ERROR' }"
                           target="_self"
                           href="/rest/api/analyse/user/{{vm.profile.sub}}/id/{{vm.data._id}}/download">{{vm.data._id}}</a>
                    </td>
                    <td ng-if="vm.data.status == 'ERROR'"> {{vm.data._id}}</td>
                </tr>
                <tr>
                    <td>duration</td>
                    <td>{{vm.data.duration}}</td>
                </tr>
                <tr>
                    <td>format</td>
                    <td>{{vm.data.format}}</td>
                </tr>
                <tr>
                    <td>method</td>
                    <td>{{vm.data.method}}</td>
                </tr>
                <tr>
                    <td>status</td>
                    <td>{{vm.data.status}}</td>
                </tr>
                <tr>
                    <td>timestamp</td>
                    <td>{{vm.data.timestamp}}</td>
                </tr>
                <tr>
                    <td>type</td>
                    <td>{{vm.data.type}}</td>
                </tr>
                <tr>
                    <td>user</td>
                    <td>{{vm.profile.nickname}}</td>
                </tr>
                <tr>
                    <td>value</td>
                    <td ng-if="vm.data.type == 'FILE'">{{vm.data.filename}}</td>
                    <td ng-if="vm.data.type != 'FILE'">{{vm.data.value}}</td>
                </tr>
                </tbody>
            </table>

            <uib-accordion ng-if="vm.exception">
                <div uib-accordion-group class="panel-default" heading="Exception">
                    <pre>{{vm.exception}}</pre>
                </div>

            </uib-accordion>
        </div>
    </div>
</div>